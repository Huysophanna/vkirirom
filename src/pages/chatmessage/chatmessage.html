<!--
  Generated template for the Chatmessage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="header">

    <ion-navbar>
        <ion-title>Room One</ion-title>
    </ion-navbar>

</ion-header>


<ion-content class="chatmessage-container">

    <ion-scroll scrollY="true" class="chat-content">
        <ion-list>
            <!--<p class="user-status" *ngIf="userStatus && userStatus.length > 0">
                {{ userStatus[userStatus.length - 1] }}
            </p>-->
            <!--<p class="user-status" *ngIf="userStatus && userStatus.length == 1">
                {{ userStatus[userStatus.length - 1] }}
            </p>-->

            <div *ngIf="chatsLength == timeLength">
                <div class="chat-wrapper" *ngFor="let time of time; let i=index">
                    <!--<p class="user-status" *ngIf="userStatus && userStatus.length > 1">
                    {{ userStatus[userStatus.length - 1] }}
                </p><br>-->
                    <div class="chat-person-image">
                        <img *ngIf="userPhoto" src="{{userPhoto}}">
                        <img *ngIf="!userPhoto" src="img/photo.jpg">
                    </div>
                    <div class="chat-bubble me">
                        <span *ngIf="!userName">Anonymous</span>
                        <span *ngIf="userName">{{ userName }}</span>
                        <p>{{chats[i]}}</p>
                        <b>{{ time }}</b><i>{{ timeStatus }}</i>
                    </div>

                </div>
            </div>
            <!--<p class="user-status" *ngIf="userStatus && userStatus.length > 1">
                {{ userStatus[userStatus.length - 1] }}
            </p>-->


        </ion-list>
    </ion-scroll>

    <div class="chat-input">
        <ion-input class="chatinput-field" type="text" [(ngModel)]="chatinp" placeholder="Type a message..."></ion-input>
        <input type="submit" class="chatinput-btn" fab (click)="send(chatinp)" value="Send" />
    </div>

    <!--<ion-infinite-scroll (ionInfinite)="doInfinite($event)">
     <ion-infinite-scroll-content 
     loadingSpinner="bubbles"
     loadingText="Loading more data...">
     </ion-infinite-scroll-content>
  </ion-infinite-scroll>-->

</ion-content>